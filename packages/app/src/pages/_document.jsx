import NextDocument, { Head, Main, NextScript } from "next/document";
import { Provider as StyletronProvider } from "styletron-react";
import { engine } from "@config/styletron";
import constants from "@config/constants";

class Document extends NextDocument {
	static getInitialProps(context) {
		const page = context.renderPage((App) => (props) => (
			<StyletronProvider value={engine}>
				<App {...props} />
			</StyletronProvider>
		));
		const stylesheets = engine.getStylesheets() || [];
		return { ...page, stylesheets };
	}

	render() {
		const { stylesheets } = this.props;

		return (
			<html lang="en">
				<Head>
					{stylesheets.map((sheet, i) => (
						<style
							className={constants.HYDRATE_CLASS}
							dangerouslySetInnerHTML={{ __html: sheet.css }}
							media={sheet.attrs.media}
							data-hydrate={sheet.attrs["data-hydrate"]}
							key={i} // eslint-disable-line
						/>
					))}
					<link rel="manifest" href="/manifest.webmanifest" />
					<link rel="shortcut icon" href="/favicon.ico" />
					<link
						rel="apple-touch-icon-precomposed"
						sizes="57x57"
						href="/static/icon/apple-touch-icon-57x57.png"
					/>
					<link
						rel="apple-touch-icon-precomposed"
						sizes="114x114"
						href="/static/icon/apple-touch-icon-114x114.png"
					/>
					<link
						rel="apple-touch-icon-precomposed"
						sizes="72x72"
						href="/static/icon/apple-touch-icon-72x72.png"
					/>
					<link
						rel="apple-touch-icon-precomposed"
						sizes="144x144"
						href="/static/icon/apple-touch-icon-144x144.png"
					/>
					<link
						rel="apple-touch-icon-precomposed"
						sizes="60x60"
						href="/static/icon/apple-touch-icon-60x60.png"
					/>
					<link
						rel="apple-touch-icon-precomposed"
						sizes="120x120"
						href="/static/icon/apple-touch-icon-120x120.png"
					/>
					<link
						rel="apple-touch-icon-precomposed"
						sizes="76x76"
						href="/static/icon/apple-touch-icon-76x76.png"
					/>
					<link
						rel="apple-touch-icon-precomposed"
						sizes="152x152"
						href="/static/icon/apple-touch-icon-152x152.png"
					/>
					<link
						rel="icon"
						type="image/png"
						href="/static/icon/icon-196x196.png"
						sizes="196x196"
					/>
					<link
						rel="icon"
						type="image/png"
						href="/static/icon/icon-96x96.png"
						sizes="96x96"
					/>
					<link
						rel="icon"
						type="image/png"
						href="/static/icon/icon-32x32.png"
						sizes="32x32"
					/>
					<link
						rel="icon"
						type="image/png"
						href="/static/icon/icon-16x16.png"
						sizes="16x16"
					/>
					<link
						rel="icon"
						type="image/png"
						href="/static/icon/icon-128.png"
						sizes="128x128"
					/>
					<meta name="application-name" content="Callsesh" />
					<meta name="msapplication-TileColor" content="#FFFFFF" />
					<meta
						name="msapplication-TileImage"
						content="/static/icon/mstile-144x144.png"
					/>
					<meta
						name="msapplication-square70x70logo"
						content="/static/icon/mstile-70x70.png"
					/>
					<meta
						name="msapplication-square150x150logo"
						content="/static/icon/mstile-150x150.png"
					/>
					<meta
						name="msapplication-wide310x150logo"
						content="/static/icon/mstile-310x150.png"
					/>
					<meta
						name="msapplication-square310x310logo"
						content="/static/icon/mstile-310x310.png"
					/>
					<link
						rel="apple-touch-icon"
						sizes="180x180"
						href="/static/icon/apple-icon-180.jpg"
					/>
					<link
						rel="apple-touch-icon"
						sizes="167x167"
						href="/static/icon/apple-icon-167.jpg"
					/>
					<link
						rel="apple-touch-icon"
						sizes="152x152"
						href="/static/icon/apple-icon-152.jpg"
					/>
					<link
						rel="apple-touch-icon"
						sizes="120x120"
						href="/static/icon/apple-icon-120.jpg"
					/>
					<meta name="apple-mobile-web-app-capable" content="yes" />
					<link
						rel="apple-touch-startup-image"
						href="/static/assets/splash/apple-splash-2048-2732.jpg"
						media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
					/>
					<link
						rel="apple-touch-startup-image"
						href="/static/assets/splash/apple-splash-2732-2048.jpg"
						media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
					/>
					<link
						rel="apple-touch-startup-image"
						href="/static/assets/splash/apple-splash-1668-2388.jpg"
						media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
					/>
					<link
						rel="apple-touch-startup-image"
						href="/static/assets/splash/apple-splash-2388-1668.jpg"
						media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
					/>
					<link
						rel="apple-touch-startup-image"
						href="/static/assets/splash/apple-splash-1668-2224.jpg"
						media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
					/>
					<link
						rel="apple-touch-startup-image"
						href="/static/assets/splash/apple-splash-2224-1668.jpg"
						media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
					/>
					<link
						rel="apple-touch-startup-image"
						href="/static/assets/splash/apple-splash-1536-2048.jpg"
						media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
					/>
					<link
						rel="apple-touch-startup-image"
						href="/static/assets/splash/apple-splash-2048-1536.jpg"
						media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
					/>
					<link
						rel="apple-touch-startup-image"
						href="/static/assets/splash/apple-splash-1242-2688.jpg"
						media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
					/>
					<link
						rel="apple-touch-startup-image"
						href="/static/assets/splash/apple-splash-2688-1242.jpg"
						media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
					/>
					<link
						rel="apple-touch-startup-image"
						href="/static/assets/splash/apple-splash-1125-2436.jpg"
						media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
					/>
					<link
						rel="apple-touch-startup-image"
						href="/static/assets/splash/apple-splash-2436-1125.jpg"
						media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
					/>
					<link
						rel="apple-touch-startup-image"
						href="/static/assets/splash/apple-splash-828-1792.jpg"
						media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
					/>
					<link
						rel="apple-touch-startup-image"
						href="/static/assets/splash/apple-splash-1792-828.jpg"
						media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
					/>
					<link
						rel="apple-touch-startup-image"
						href="/static/assets/splash/apple-splash-1242-2208.jpg"
						media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
					/>
					<link
						rel="apple-touch-startup-image"
						href="/static/assets/splash/apple-splash-2208-1242.jpg"
						media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
					/>
					<link
						rel="apple-touch-startup-image"
						href="/static/assets/splash/apple-splash-750-1334.jpg"
						media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
					/>
					<link
						rel="apple-touch-startup-image"
						href="/static/assets/splash/apple-splash-1334-750.jpg"
						media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
					/>
					<link
						rel="apple-touch-startup-image"
						href="/static/assets/splash/apple-splash-640-1136.jpg"
						media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
					/>
					<link
						rel="apple-touch-startup-image"
						href="/static/assets/splash/apple-splash-1136-640.jpg"
						media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
					/>
				</Head>
				<body>
					<Main />
					<NextScript />
				</body>
			</html>
		);
	}
}

export default Document;
